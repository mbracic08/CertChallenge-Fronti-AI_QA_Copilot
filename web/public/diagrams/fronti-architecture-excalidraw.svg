<svg width="1500" height="980" viewBox="0 0 1500 980" fill="none" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#E20074"/>
    </marker>
  </defs>

  <rect width="1500" height="980" fill="#0B0B0F"/>

  <g opacity="0.12" stroke="#E20074" stroke-width="1">
    <path d="M40 80H1460"/><path d="M40 160H1460"/><path d="M40 240H1460"/>
    <path d="M40 320H1460"/><path d="M40 400H1460"/><path d="M40 480H1460"/>
    <path d="M40 560H1460"/><path d="M40 640H1460"/><path d="M40 720H1460"/>
    <path d="M40 800H1460"/><path d="M40 880H1460"/>
  </g>

  <text x="64" y="66" fill="#F8FAFC" font-size="34" font-family="sans-serif" font-weight="700">Fronti Architecture</text>
  <text x="64" y="98" fill="#A1A1AA" font-size="18" font-family="sans-serif">User -> Vercel UI/API -> Runner Agent -> Run -> Results, with in-runner Evaluation</text>

  <rect x="640" y="130" width="240" height="82" rx="12" fill="#111118" stroke="#F8FAFC" stroke-width="2"/>
  <text x="664" y="165" fill="#F8FAFC" font-size="22" font-family="sans-serif" font-weight="700">User</text>
  <text x="664" y="188" fill="#A1A1AA" font-size="14" font-family="sans-serif">Browser session</text>

  <rect x="80" y="260" width="390" height="320" rx="14" fill="none" stroke="#F8FAFC" stroke-width="2"/>
  <text x="102" y="292" fill="#F8FAFC" font-size="20" font-family="sans-serif" font-weight="700">Vercel</text>

  <rect x="112" y="324" width="320" height="90" rx="12" fill="#111118" stroke="#F8FAFC" stroke-width="2"/>
  <text x="134" y="358" fill="#F8FAFC" font-size="19" font-family="sans-serif" font-weight="700">Next.js Frontend</text>
  <text x="134" y="381" fill="#A1A1AA" font-size="14" font-family="sans-serif">Workspace, Runs, Reports, Evaluation, About</text>

  <rect x="112" y="456" width="320" height="90" rx="12" fill="#111118" stroke="#F8FAFC" stroke-width="2"/>
  <text x="134" y="490" fill="#F8FAFC" font-size="19" font-family="sans-serif" font-weight="700">API Routes / Proxy</text>
  <text x="134" y="513" fill="#A1A1AA" font-size="14" font-family="sans-serif">Create/poll/cancel async jobs</text>

  <rect x="520" y="260" width="660" height="620" rx="14" fill="none" stroke="#F8FAFC" stroke-width="2"/>
  <text x="542" y="292" fill="#F8FAFC" font-size="20" font-family="sans-serif" font-weight="700">Python Runner Service</text>

  <rect x="552" y="324" width="286" height="180" rx="12" fill="#111118" stroke="#F8FAFC" stroke-width="2"/>
  <text x="574" y="358" fill="#F8FAFC" font-size="20" font-family="sans-serif" font-weight="700">Agent</text>
  <text x="574" y="384" fill="#A1A1AA" font-size="15" font-family="sans-serif">Tools:</text>
  <text x="590" y="410" fill="#A1A1AA" font-size="15" font-family="sans-serif">- Page Scan</text>
  <text x="590" y="434" fill="#A1A1AA" font-size="15" font-family="sans-serif">- search_playwright_docs</text>
  <text x="590" y="458" fill="#A1A1AA" font-size="15" font-family="sans-serif">- Tavily (fallback only)</text>

  <rect x="860" y="324" width="286" height="180" rx="12" fill="#111118" stroke="#F8FAFC" stroke-width="2"/>
  <text x="882" y="358" fill="#F8FAFC" font-size="20" font-family="sans-serif" font-weight="700">Evaluation</text>
  <text x="882" y="384" fill="#A1A1AA" font-size="15" font-family="sans-serif">RAGAS baseline / advanced / compare</text>
  <text x="882" y="408" fill="#A1A1AA" font-size="15" font-family="sans-serif">Uses retrieval + scoring pipeline</text>

  <rect x="860" y="540" width="286" height="106" rx="12" fill="#111118" stroke="#F8FAFC" stroke-width="2"/>
  <text x="882" y="578" fill="#F8FAFC" font-size="18" font-family="sans-serif" font-weight="700">Playwright .md docs</text>
  <text x="882" y="602" fill="#A1A1AA" font-size="14" font-family="sans-serif">Ingest source for RAG retrieval</text>

  <rect x="552" y="540" width="286" height="106" rx="12" fill="#111118" stroke="#F8FAFC" stroke-width="2"/>
  <text x="574" y="578" fill="#F8FAFC" font-size="18" font-family="sans-serif" font-weight="700">Flow Spec Test Run</text>
  <text x="574" y="602" fill="#A1A1AA" font-size="14" font-family="sans-serif">Run selected generated tests</text>

  <rect x="552" y="700" width="286" height="106" rx="12" fill="#111118" stroke="#F8FAFC" stroke-width="2"/>
  <text x="574" y="738" fill="#F8FAFC" font-size="18" font-family="sans-serif" font-weight="700">Flow Spec Test Results</text>
  <text x="574" y="762" fill="#A1A1AA" font-size="14" font-family="sans-serif">Pass/fail, duration, error summaries</text>

  <rect x="1230" y="260" width="220" height="360" rx="14" fill="none" stroke="#F8FAFC" stroke-width="2"/>
  <text x="1252" y="292" fill="#F8FAFC" font-size="20" font-family="sans-serif" font-weight="700">External Services</text>

  <rect x="1260" y="324" width="160" height="70" rx="12" fill="#111118" stroke="#F8FAFC" stroke-width="2"/>
  <text x="1282" y="352" fill="#F8FAFC" font-size="18" font-family="sans-serif" font-weight="700">Qdrant</text>
  <text x="1282" y="374" fill="#A1A1AA" font-size="14" font-family="sans-serif">Vector DB</text>

  <rect x="1260" y="406" width="160" height="70" rx="12" fill="#111118" stroke="#F8FAFC" stroke-width="2"/>
  <text x="1282" y="434" fill="#F8FAFC" font-size="18" font-family="sans-serif" font-weight="700">OpenAI</text>
  <text x="1282" y="456" fill="#A1A1AA" font-size="14" font-family="sans-serif">LLM + embeddings</text>

  <rect x="1260" y="488" width="160" height="70" rx="12" fill="#111118" stroke="#F8FAFC" stroke-width="2"/>
  <text x="1282" y="516" fill="#F8FAFC" font-size="18" font-family="sans-serif" font-weight="700">Tavily</text>
  <text x="1282" y="538" fill="#A1A1AA" font-size="14" font-family="sans-serif">Fallback search</text>

  <g stroke="#E20074" stroke-width="3" marker-end="url(#arrow)">
    <path d="M760 212V248"/>
    <path d="M272 414V456"/>
    <path d="M432 501H542"/>

    <path d="M695 504V540"/>
    <path d="M695 646V700"/>

    <path d="M655 806V836H340V546"/>
    <path d="M943 504V836H655" marker-end="none"/>
    <path d="M838 430H1230"/>
    <path d="M1146 593H1230"/>
  </g>

  <text x="454" y="496" fill="#FF3AA6" font-size="14" font-family="sans-serif">create/poll jobs</text>
  <text x="430" y="832" fill="#FF3AA6" font-size="14" font-family="sans-serif">results to Vercel</text>
  <text x="1110" y="426" fill="#FF3AA6" font-size="14" font-family="sans-serif">RAG, evaluation</text>
  <text x="1120" y="588" fill="#FF3AA6" font-size="14" font-family="sans-serif">ingest/retrieve</text>
  

  <rect x="64" y="890" width="1372" height="46" rx="10" fill="#111118" stroke="#27272A"/>
  <text x="86" y="918" fill="#A1A1AA" font-size="14" font-family="sans-serif">Flow: Agent tools -> Flow Spec Test Run -> Flow Spec Test Results. Evaluation runs in parallel branch and exchanges data with External Services.</text>
</svg>
